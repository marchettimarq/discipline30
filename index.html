<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>30 Day Discipline</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#58bfa0">
</head>
<body>
  <header>
    <div style="flex:1">
      <h1>30 Day Discipline</h1>
      <div class="progress-row">
        <div class="phase-pills" id="phasePills"></div>
        <div class="progress-wrap"><div id="progressBar" class="progress-bar"></div></div>
        <div class="badge" id="dayInfo">Phase … · Day …</div>
      </div>
    </div>
    <button id="btnSettings" class="icon-btn">⚙️</button>
  </header>

  <div class="wrap">
    <div class="tabs">
      <div id="tabTasks" class="tab active">Tasks</div>
      <div id="tabCalendar" class="tab">Calendar</div>
      <div class="badge" id="dowBadge" style="margin-left:auto">—</div>
    </div>

    <div class="swipe-outer">
      <div id="swipeInner" class="swipe-inner">
        <!-- Panel 1: Tasks -->
        <section class="panel">
          <div class="section-title"><h2>Daily Anchors</h2><span class="badge">Required vs Optional</span></div>
          <div class="list" id="dailyList"></div>
          <div class="section-title"><h2>Today's Plan</h2><span class="badge">Guidance</span></div>
          <div class="list" id="planList"></div>
          <div class="section-title"><h2>Notes & Wins</h2><span class="badge">Jot one positive</span></div>
          <textarea id="noteBox" class="note" placeholder="Positive, lessons, quick reflections…"></textarea>
          <div class="section-title"><h2>Controls</h2><span></span></div>
          <div class="controls">
            <button class="primary" id="btnFinish">Finish Day</button>
            <button id="btnReset">Reset today</button>
            <button id="btnClear">Erase all</button>
          </div>
        </section>

        <!-- Panel 2: Calendar -->
        <section class="panel">
          <div class="section-title"><h2>Phase Calendar</h2><span class="badge">Tap a day</span></div>
          <div id="calendar" class="calendar"></div>
        </section>
      </div>
    </div>
  </div>

  <footer><div class="tiny">Offline-capable. No accounts.</div></footer>

  <!-- Confirmation dialog -->
  <div id="confirmModal" class="dialog-backdrop">
    <div class="dialog">
      <h3>Did you complete all tasks?</h3>
      <p>You still have unchecked anchors. Would you like to complete the unfinished tasks now, or continue and mark the day incomplete?</p>
      <div class="actions">
        <button id="btnCompleteNow">Complete Now</button>
        <button class="primary" id="btnContinueAnyway">Continue Anyway</button>
      </div>
    </div>
  </div>

  <!-- Daily recap modal -->
  <div id="recapModal" class="dialog-backdrop">
    <div class="dialog">
      <h3>Daily Recap</h3>
      <div id="recapList" class="small"></div>
      <p style="margin-top:10px">One positive thing:</p>
      <input id="recapPositive" type="text" placeholder="Type one positive…"/>
      <div class="actions">
        <button id="btnRecapEdit">Back & edit</button>
        <button class="primary" id="btnRecapSave">Save day</button>
      </div>
    </div>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="dialog-backdrop">
    <div class="dialog">
      <h3>Settings</h3>
      <p class="small">Themes, anchors, and weekly plan.</p>
      <div class="settings-grid">
        <div class="settings-row"><strong>Theme</strong>
          <button id="themeZen" class="icon-btn">Zen Light</button>
          <button id="themeMid" class="icon-btn">Mid</button>
          <button id="themeDark" class="icon-btn">Dark</button>
        </div>
      </div>
      <hr class="soft"/>
      <div id="settingsAnchors" class="settings-grid"></div>
      <div class="settings-row">
        <input id="newTaskName" type="text" placeholder="New task name">
        <button id="newTaskToggle" class="icon-btn">Required</button>
        <button id="btnAddTask" class="icon-btn">+ Add Task</button>
      </div>
      <hr class="soft"/>
      <div class="settings-grid">
        <div class="settings-row"><strong>Mon Plan</strong><input id="planMon" type="text"/><span class="small">comma list</span></div>
        <div class="settings-row"><strong>Tue Plan</strong><input id="planTue" type="text"/><span class="small">comma list</span></div>
        <div class="settings-row"><strong>Wed Plan</strong><input id="planWed" type="text"/><span class="small">comma list</span></div>
        <div class="settings-row"><strong>Thu Plan</strong><input id="planThu" type="text"/><span class="small">comma list</span></div>
        <div class="settings-row"><strong>Fri Plan</strong><input id="planFri" type="text"/><span class="small">comma list</span></div>
        <div class="settings-row"><strong>Sat Plan</strong><input id="planSat" type="text"/><span class="small">comma list</span></div>
        <div class="settings-row"><strong>Sun Plan</strong><input id="planSun" type="text"/><span class="small">comma list</span></div>
      </div>
      <div class="actions">
        <button id="btnSettingsCancel">Cancel</button>
        <button class="primary" id="btnSettingsSave">Save</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
